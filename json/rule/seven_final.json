{"headers":[{"key":"pos","value":true,"style":"boolean"},{"key":"nowGenre","value":1,"style":"number"}],"items":[{"key":"o","value":0,"style":"number","css":"o2"},{"key":"x","value":0,"style":"number","css":"x"},{"key":"genreCount","value":0,"style":"number","css":"o"},{"key":"genre1","value":0,"style":"number","css":"genre1","repeatChar":"漫"},{"key":"genre2","value":0,"style":"number","css":"genre2","repeatChar":"ア"},{"key":"genre3","value":0,"style":"number","css":"genre3","repeatChar":"電"},{"key":"genre4","value":0,"style":"number","css":"genre4","repeatChar":"ノ"},{"key":"genre5","value":0,"style":"number","css":"genre5","repeatChar":"特"},{"key":"genre6","value":0,"style":"number","css":"genre6","repeatChar":"人"},{"key":"genre7","value":0,"style":"number","css":"genre7","repeatChar":"ホ"}],"priority":[{"key":"status","order":"desc","alter":["win",2,"lose",0,1]},{"key":"o","order":"desc"},{"key":"x","order":"asc"}],"actions":[{"name":"○","css":"action_o","button_css":"btn btn-primary btn-lg","keyArray":"k1","tweet":"o","enable0":"return (player.status == 'normal' && !header.playoff);","action0":"// ○を加算\nplayer.o++;\n// ジャンル獲得\nplayer[\"genre\"+header.nowGenre]=1;\n// ジャンル進める\nheader.nowGenre++;\nif(header.nowGenre >= 8){\n    header.nowGenre = 1;\n}\nsetMotion(player, 'o');\naddQCount(players, header, property);\n\n","nowait":false},{"name":"×","css":"action_x","button_css":"btn btn-danger btn-lg","keyArray":"k2","tweet":"x","enable0":"return (player.status == 'normal' && !header.playoff);","action0":"// ×を加算\nplayer.x++;\n// ジャンル進める\nheader.nowGenre++;\nif(header.nowGenre >= 8){\n    header.nowGenre = 1;\n}\nsetMotion(player, 'x');\naddQCount(players, header, property);","nowait":false},{"name":"x1","css":"action_x1","button_css":"btn btn-danger","enable0":"return (player.status == 'normal' && !header.playoff && player[\"genre1\"] == 1);","action0":"// ジャンル喪失\nplayer[\"genre1\"]=0;","nowait":false,"tweet":"x2"},{"name":"x2","action0":"// ジャンル喪失\nplayer[\"genre2\"]=0;","enable0":"return (player.status == 'normal' && !header.playoff && player[\"genre2\"] == 1);","css":"action_x2","button_css":"btn btn-danger","nowait":false,"tweet":"x2"},{"name":"x3","action0":"// ジャンル喪失\nplayer[\"genre3\"]=0;","enable0":"return (player.status == 'normal' && !header.playoff && player[\"genre3\"] == 1);","css":"action_x3","button_css":"btn btn-danger","nowait":false,"tweet":"x2"},{"name":"x4","action0":"// ジャンル喪失\nplayer[\"genre4\"]=0;","enable0":"return (player.status == 'normal' && !header.playoff && player[\"genre4\"] == 1);","css":"action_x4","button_css":"btn btn-danger","nowait":false,"tweet":"x2"},{"name":"x5","action0":"// ジャンル喪失\nplayer[\"genre5\"]=0;","enable0":"return (player.status == 'normal' && !header.playoff && player[\"genre5\"] == 1);","css":"action_x5","button_css":"btn btn-danger","nowait":false,"tweet":"x2"},{"name":"x6","action0":"// ジャンル喪失\nplayer[\"genre6\"]=0;","enable0":"return (player.status == 'normal' && !header.playoff && player[\"genre6\"] == 1);","css":"action_x6","button_css":"btn btn-danger","nowait":false,"tweet":"x2"},{"name":"x7","action0":"// ジャンル喪失\nplayer[\"genre7\"]=0;","enable0":"return (player.status == 'normal' && !header.playoff && player[\"genre7\"] == 1);","css":"action_x7","button_css":"btn btn-danger","nowait":false,"tweet":"x2"}],"global_actions":[{"name":"thru","button_css":"btn btn-default","group":"rule","keyboard":"Space","tweet":"thru","enable0":"return true;","action0":"// ジャンル進める\nheader.nowGenre++;\nif(header.nowGenre >= 8){\n    header.nowGenre = 1;\n}\naddQCount(players, header, property);","nowait":false},{"name":"pos","button_css":"btn btn-default","group":"rule","enable0":"return true;","action0":"header.pos = !header.pos;","keyArray":"","nowait":false}],"global_actions_repeat":[],"tweet":{"o":"${handleName}◯　→${genreCount}ジャンル (${gotGenreList})","x":"${handleName}×　→${x}×","thru":"スルー","x2":"${handleName}：${genreCount}ジャンル (${gotGenreList})"},"judgement":"angular.forEach(players.filter(function(item) {\n  /* rankがない人に限定 */\n  return (item.rank === 0);\n}), function(player, i) {\n  /* win条件 */\n  if (player.genreCount >= property.winningPoint) {\n    win(player, players, header, property);\n  }\n  /* lose条件 */\n  if (player.x >= property.losingPoint) {\n    lose(player, players, header, property);\n  }\n});","calc":"angular.forEach(players, function(player, index) {\n  // genreCount\n  player.genreCount = player[\"genre1\"] + player[\"genre2\"] + player[\"genre3\"] + player[\"genre4\"] + player[\"genre5\"] + player[\"genre6\"] + player[\"genre7\"];\n  // gotGenreList\n  player.gotGenreList = [1, 2, 3, 4, 5, 6, 7].filter(function(g) {\n    return player[\"genre\" + g] == 1;\n  }).map(function(g) {\n    return property.genre[g - 1];\n  }).join(',');\n\n  // pinch, chance\n  player.pinch = (player.x == property.losingPoint - 1) && (player.status == 'normal');\n  player.chance = (player.genreCount + 1 >= property.winningPoint) && (player.status == 'normal');\n\n  // キーボード入力時の配列の紐付け ローリング等の特殊形式でない場合はこのままでOK\\\n  player.keyIndex = player.position;\n  if (header.pos) {\n    player.line = \"line1\";\n  } else {\n    player.line = \"line2\";\n  }\n});","lines":[{"key":"line1","xType":true,"yType":false,"invisible":false,"zoom":1,"left":0,"right":1,"top":0,"y":0.5,"orderBy":"position"},{"key":"line2","orderBy":"priority","xType":true,"yType":false,"invisible":false,"zoom":1,"left":0,"right":1,"y":0.5}]}